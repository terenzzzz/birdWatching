<!DOCTYPE html>
<html>
  <head>
    <title>List View</title>
    <link rel="manifest" href="/manifest.json">
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBJtnXvWVd_aeGOUN3Ei6k1q3_iOv142TE&libraries=geometry,places"></script>
      <script>
          if(!sessionStorage.getItem('nickName')) {
              window.location.href = '/';
              alert("Please Field Your Nick Name.")
          }
      </script>
    <script src="/javascripts/indexDb.js" defer></script>
    <script src="/javascripts/index.js" defer></script>
  </head>
  <body class="bg-light bg-gradient">
    <button class="btn btn-success float-end" onclick="window.location.href='/create';">Add a sighting</button>
    <h1 class="fw-bold">Sighting list</h1>
    <p class="fw-light">Find birds and build your life list</p>
    <!--    Sort Btn-->
    <div class="row">
      <div class="btn-group col-4">
        <button type="button" class="btn btn-secondary" onclick="sortByIdentification(<%=JSON.stringify(sightings)%>)">
          Identification
        </button>
      </div>
      <div class="btn-group col-4">
        <button type="button" class="btn btn-secondary" onclick="sortByDate(<%=JSON.stringify(sightings)%>)">
          Most recently
        </button>
      </div>
      <div class="btn-group col-4">
        <button type="button" class="btn btn-secondary" onclick="sortByLocation(<%=JSON.stringify(sightings)%>)">
          Closest
        </button>
      </div>
    </div>
    <div id="sighting-container" data-sightings="<%=JSON.stringify(sightings)%>"></div>
    <div id="liveAlertPlaceholder"></div>
  </body>
</html>